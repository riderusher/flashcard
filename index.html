<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spanish-English Flashcards</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
  
  body { font-family: 'Inter', sans-serif; }
  
  .gradient-bg {
    background: linear-gradient(135deg, #e0f2fe 0%, #f3e5f5 50%, #e1bee7 100%);
  }
  
  .card-flip { perspective: 1000px; }
  .card-inner { 
    transition: transform 0.7s cubic-bezier(0.4, 0.0, 0.2, 1);
    transform-style: preserve-3d; 
  }
  .card-flipped .card-inner { transform: rotateY(180deg); }
  .card-front, .card-back { 
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }
  .card-back { transform: rotateY(180deg); }
  
  .soft-shadow {
    box-shadow: 0 10px 30px rgba(0,0,0,0.1), 0 4px 8px rgba(0,0,0,0.05);
  }
  
  .button-hover {
    transition: all 0.3s ease;
  }
  
  .button-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  }
  
  .pulse {
    animation: pulse 2s infinite;
  }
  
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }
  
  .slide-up {
    animation: slideUp 0.5s ease-out;
  }
  
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body class="gradient-bg min-h-screen p-4">

<div class="max-w-4xl mx-auto">
  <!-- Header -->
  <div class="text-center mb-8">
    <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-3">
      📚 Spanish-English Flashcards
    </h1>
    <p class="text-gray-600 text-lg">Interactive vocabulary learning made easy</p>
  </div>

  <!-- Input Section -->
  <div class="bg-white rounded-2xl soft-shadow p-6 mb-6">
    <div class="mb-4">
      <label class="block text-gray-700 font-semibold mb-2 text-sm">
        📝 Enter Spanish-English Pairs (one per line)
      </label>
      <textarea 
        id="pairs-input" 
        placeholder="hola|hello&#10;casa|house&#10;agua|water&#10;libro|book&#10;gato|cat"
        class="w-full h-32 p-4 border-2 border-gray-200 rounded-xl resize-none focus:border-blue-400 focus:outline-none transition-colors"
      ></textarea>
    </div>
    <div class="flex flex-col sm:flex-row gap-3 justify-end">
      <button id="generate-btn" class="button-hover bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold">
        ✨ Generate Flashcards
      </button>
      <button id="clear-btn" class="button-hover bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-xl font-semibold">
        🗑️ Clear All Cards
      </button>
    </div>
  </div>

  <!-- Progress Bar -->
  <div class="mb-6" id="progress-section" style="display:none">
    <div class="bg-white rounded-2xl soft-shadow p-4">
      <div class="flex justify-between items-center mb-2">
        <span class="text-sm font-semibold text-gray-700">Progress</span>
        <span class="text-sm text-gray-600" id="progress-text">0 / 0</span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-3">
        <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500" id="progress-bar" style="width: 0%"></div>
      </div>
    </div>
  </div>

  <!-- Study Mode Toggle -->
  <div class="text-center mb-6" id="study-mode" style="display:none">
    <div class="inline-flex bg-white rounded-2xl p-1 soft-shadow">
      <button id="spanish-first" class="px-6 py-3 rounded-xl text-sm font-semibold transition-all bg-blue-500 text-white">
        🇪🇸 Spanish First
      </button>
      <button id="english-first" class="px-6 py-3 rounded-xl text-sm font-semibold transition-all text-gray-600 hover:text-gray-800">
        🇺🇸 English First
      </button>
    </div>
  </div>

  <!-- Flashcard -->
  <div class="card-flip mb-8 slide-up" id="flashcard" style="display:none">
    <div class="card-inner relative w-full h-80 cursor-pointer">
      <!-- Front of Card -->
      <div class="card-front absolute inset-0 bg-white rounded-2xl soft-shadow p-8 flex flex-col justify-center items-center">
        <div class="text-center w-full">
          <div class="text-xs font-bold text-blue-600 mb-4 tracking-wider uppercase" id="front-label">🇪🇸 Español</div>
          <p class="text-3xl md:text-4xl font-bold text-gray-800 leading-relaxed mb-6" id="front-text"></p>
          <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 text-sm text-gray-500 pulse">
            👆 Click to reveal translation
          </div>
        </div>
      </div>
      
      <!-- Back of Card -->
      <div class="card-back absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl soft-shadow p-8 flex flex-col justify-center items-center text-white">
        <div class="text-center w-full">
          <div class="text-xs font-bold text-blue-200 mb-4 tracking-wider uppercase" id="back-label">🇺🇸 English</div>
          <p class="text-3xl md:text-4xl font-bold leading-relaxed mb-6" id="back-text"></p>
          <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 text-sm text-blue-200 pulse">
            👆 Click to flip back
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation Controls -->
  <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8" id="controls" style="display:none">
    <button id="prev-btn" class="button-hover bg-white hover:bg-gray-50 text-gray-700 px-8 py-4 rounded-xl font-semibold soft-shadow">
      ← Previous
    </button>
    <button id="shuffle-btn" class="button-hover bg-purple-500 hover:bg-purple-600 text-white px-8 py-4 rounded-xl font-semibold">
      🔀 Shuffle
    </button>
    <button id="next-btn" class="button-hover bg-blue-500 hover:bg-blue-600 text-white px-8 py-4 rounded-xl font-semibold">
      Next →
    </button>
  </div>

  <!-- Statistics -->
  <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6" id="stats" style="display:none">
    <div class="bg-white rounded-2xl soft-shadow p-6 text-center">
      <div class="text-3xl font-bold text-blue-600 mb-2" id="total-cards">0</div>
      <div class="text-gray-600 font-medium text-sm">Total Cards</div>
    </div>
    <div class="bg-white rounded-2xl soft-shadow p-6 text-center">
      <div class="text-3xl font-bold text-green-600 mb-2" id="cards-studied">0</div>
      <div class="text-gray-600 font-medium text-sm">Cards Studied</div>
    </div>
    <div class="bg-white rounded-2xl soft-shadow p-6 text-center">
      <div class="text-3xl font-bold text-purple-600 mb-2" id="completion-rate">0%</div>
      <div class="text-gray-600 font-medium text-sm">Completion</div>
    </div>
  </div>

  <!-- Keyboard Shortcuts -->
  <div class="text-center" id="shortcuts" style="display:none">
    <div class="bg-white/80 rounded-xl p-4 inline-block soft-shadow">
      <p class="text-sm text-gray-600">
        <span class="font-semibold">Keyboard shortcuts:</span> 
        <kbd class="bg-gray-200 px-2 py-1 rounded text-xs mx-1">Space</kbd> flip • 
        <kbd class="bg-gray-200 px-2 py-1 rounded text-xs mx-1">←</kbd> previous • 
        <kbd class="bg-gray-200 px-2 py-1 rounded text-xs mx-1">→</kbd> next
      </p>
    </div>
  </div>
</div>

<script>
let flashcards = [];
let currentIndex = 0;
let isFlipped = false;
let studiedCards = new Set();
let spanishFirst = true;

// DOM elements
const pairsInput = document.getElementById('pairs-input');
const generateBtn = document.getElementById('generate-btn');
const clearBtn = document.getElementById('clear-btn');
const flashcard = document.getElementById('flashcard');
const controls = document.getElementById('controls');
const studyMode = document.getElementById('study-mode');
const stats = document.getElementById('stats');
const shortcuts = document.getElementById('shortcuts');
const progressSection = document.getElementById('progress-section');
const prevBtn = document.getElementById('prev-btn');
const nextBtn = document.getElementById('next-btn');
const shuffleBtn = document.getElementById('shuffle-btn');
const spanishFirstBtn = document.getElementById('spanish-first');
const englishFirstBtn = document.getElementById('english-first');
const progressBar = document.getElementById('progress-bar');
const progressText = document.getElementById('progress-text');
const frontText = document.getElementById('front-text');
const backText = document.getElementById('back-text');
const frontLabel = document.getElementById('front-label');
const backLabel = document.getElementById('back-label');

// Event listeners
generateBtn.addEventListener('click', generateFlashcards);
clearBtn.addEventListener('click', clearFlashcards);
flashcard.addEventListener('click', flipCard);
prevBtn.addEventListener('click', previousCard);
nextBtn.addEventListener('click', nextCard);
shuffleBtn.addEventListener('click', shuffleCards);
spanishFirstBtn.addEventListener('click', () => setStudyMode(true));
englishFirstBtn.addEventListener('click', () => setStudyMode(false));

// Keyboard navigation
document.addEventListener('keydown', (e) => {
  if (flashcards.length === 0) return;
  
  switch(e.key) {
    case ' ':
    case 'Enter':
      e.preventDefault();
      flipCard();
      break;
    case 'ArrowLeft':
      e.preventDefault();
      previousCard();
      break;
    case 'ArrowRight':
      e.preventDefault();
      nextCard();
      break;
  }
});

function generateFlashcards() {
  const input = pairsInput.value.trim();
  if (!input) {
    showNotification('Please enter some Spanish-English pairs!', 'error');
    return;
  }

  const lines = input.split('\n').filter(line => line.trim());
  flashcards = [];
  
  lines.forEach(line => {
    const parts = line.split('|');
    if (parts.length === 2) {
      flashcards.push({
        spanish: parts[0].trim(),
        english: parts[1].trim()
      });
    }
  });

  if (flashcards.length === 0) {
    showNotification('No valid pairs found! Use format: Spanish|English', 'error');
    return;
  }

  currentIndex = 0;
  studiedCards.clear();
  showFlashcard();
  updateUI();
  updateStats();
  showNotification(`Generated ${flashcards.length} flashcards!`, 'success');
}

function clearFlashcards() {
  flashcards = [];
  currentIndex = 0;
  studiedCards.clear();
  isFlipped = false;
  
  // Hide all sections
  flashcard.style.display = 'none';
  controls.style.display = 'none';
  studyMode.style.display = 'none';
  stats.style.display = 'none';
  shortcuts.style.display = 'none';
  progressSection.style.display = 'none';
  
  updateProgress();
  updateStats();
  
  pairsInput.value = '';
  showNotification('All flashcards cleared!', 'info');
}

function showFlashcard() {
  if (flashcards.length === 0) return;
  
  const card = flashcards[currentIndex];
  
  if (spanishFirst) {
    frontText.textContent = card.spanish;
    backText.textContent = card.english;
    frontLabel.textContent = '🇪🇸 Español';
    backLabel.textContent = '🇺🇸 English';
  } else {
    frontText.textContent = card.english;
    backText.textContent = card.spanish;
    frontLabel.textContent = '🇺🇸 English';
    backLabel.textContent = '🇪🇸 Español';
  }
  
  // Reset flip state
  isFlipped = false;
  flashcard.classList.remove('card-flipped');
  
  // Mark as studied
  studiedCards.add(currentIndex);
  
  updateProgress();
  updateStats();
}

function flipCard() {
  if (flashcards.length === 0) return;
  
  isFlipped = !isFlipped;
  flashcard.classList.toggle('card-flipped');
}

function previousCard() {
  if (flashcards.length === 0) return;
  
  currentIndex = currentIndex > 0 ? currentIndex - 1 : flashcards.length - 1;
  showFlashcard();
}

function nextCard() {
  if (flashcards.length === 0) return;
  
  currentIndex = currentIndex < flashcards.length - 1 ? currentIndex + 1 : 0;
  showFlashcard();
}

function shuffleCards() {
  if (flashcards.length === 0) return;
  
  // Fisher-Yates shuffle
  for (let i = flashcards.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [flashcards[i], flashcards[j]] = [flashcards[j], flashcards[i]];
  }
  
  currentIndex = 0;
  studiedCards.clear();
  showFlashcard();
  showNotification('Cards shuffled!', 'info');
}

function setStudyMode(spanish) {
  spanishFirst = spanish;
  
  if (spanish) {
    spanishFirstBtn.classList.add('bg-blue-500', 'text-white');
    spanishFirstBtn.classList.remove('text-gray-600', 'hover:text-gray-800');
    englishFirstBtn.classList.remove('bg-blue-500', 'text-white');
    englishFirstBtn.classList.add('text-gray-600', 'hover:text-gray-800');
  } else {
    englishFirstBtn.classList.add('bg-blue-500', 'text-white');
    englishFirstBtn.classList.remove('text-gray-600', 'hover:text-gray-800');
    spanishFirstBtn.classList.remove('bg-blue-500', 'text-white');
    spanishFirstBtn.classList.add('text-gray-600', 'hover:text-gray-800');
  }
  
  if (flashcards.length > 0) {
    showFlashcard();
  }
}

function updateUI() {
  if (flashcards.length > 0) {
    flashcard.style.display = 'block';
    controls.style.display = 'flex';
    studyMode.style.display = 'block';
    stats.style.display = 'grid';
    shortcuts.style.display = 'block';
    progressSection.style.display = 'block';
  }
}

function updateProgress() {
  if (flashcards.length === 0) {
    progressBar.style.width = '0%';
    progressText.textContent = '0 / 0';
    return;
  }
  
  const progress = ((currentIndex + 1) / flashcards.length) * 100;
  progressBar.style.width = `${progress}%`;
  progressText.textContent = `${currentIndex + 1} / ${flashcards.length}`;
}

function updateStats() {
  const totalCards = flashcards.length;
  const cardsStudied = studiedCards.size;
  const completionRate = totalCards > 0 ? Math.round((cardsStudied / totalCards) * 100) : 0;
  
  document.getElementById('total-cards').textContent = totalCards;
  document.getElementById('cards-studied').textContent = cardsStudied;
  document.getElementById('completion-rate').textContent = `${completionRate}%`;
}

function showNotification(message, type) {
  const notification = document.createElement('div');
  notification.className = `fixed top-4 right-4 z-50 p-4 rounded-xl shadow-lg text-white font-semibold transform translate-x-full transition-transform duration-300 ${
    type === 'success' ? 'bg-green-500' : 
    type === 'error' ? 'bg-red-500' : 
    'bg-blue-500'
  }`;
  notification.textContent = message;
  
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.classList.remove('translate-x-full');
  }, 100);
  
  setTimeout(() => {
    notification.classList.add('translate-x-full');
    setTimeout(() => {
      if (document.body.contains(notification)) {
        document.body.removeChild(notification);
      }
    }, 300);
  }, 3000);
}

// Load sample data on page load
window.addEventListener('load', () => {
  pairsInput.value = 'hola|hello\ncasa|house\nagua|water\nlibro|book\ngato|cat\nperro|dog\ncomida|food\namigo|friend\nfamilia|family\nescuela|school\ntiempo|time\nvida|life\nmundo|world\ncorazón|heart\namor|love';
});
</script>

<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9824b17c021ebc39',t:'MTc1ODQwNjY1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
